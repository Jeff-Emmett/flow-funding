# Flow Funding Visual Interface Design

## Core Concept: Threshold-Based Flow Funding (TBFF)

Unlike traditional discrete grants, TBFF enables **continuous resource flows** that respond dynamically to conditions. Funds stream like water through a network, with thresholds acting as gates that open, close, or modulate flow rates.

---

## Visual Metaphors

### 1. The River System
- **Sources** = Springs/tributaries (funding origins)
- **Flows** = Rivers/streams (animated fund movement)
- **Recipients** = Lakes/deltas (fund destinations)
- **Thresholds** = Dams/locks (control points)

### 2. The Circulatory System
- **Sources** = Heart (pumping resources)
- **Flows** = Arteries/veins (distribution network)
- **Recipients** = Organs (entities needing resources)
- **Thresholds** = Valves (flow regulation)

### 3. The Electrical Grid
- **Sources** = Power plants (generation)
- **Flows** = Transmission lines (distribution)
- **Recipients** = Consumers (utilization)
- **Thresholds** = Circuit breakers (protection/regulation)

---

## Key Visual Elements

### Flow Nodes

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      SOURCE NODE                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®                               â”‚   â”‚
â”‚  â”‚  â”‚   Treasury   â”‚  Balance: $50,000             â”‚   â”‚
â”‚  â”‚  â”‚      ğŸ’°      â”‚  Flow Rate: $100/hr           â”‚   â”‚
â”‚  â”‚  â•°â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â•¯  Status: â— Active             â”‚   â”‚
â”‚  â”‚         â”‚                                       â”‚   â”‚
â”‚  â”‚    â•â•â•â•â•â•§â•â•â•â•â•â–¶  (animated particles)           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    RECIPIENT NODE                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚    â•â•â•â•â•â•¤â•â•â•â•â•â–¶  (incoming flow)                â”‚   â”‚
â”‚  â”‚         â”‚                                       â”‚   â”‚
â”‚  â”‚  â•­â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â•®                               â”‚   â”‚
â”‚  â”‚  â”‚   Project    â”‚  Received: $12,340            â”‚   â”‚
â”‚  â”‚  â”‚      ğŸ¯      â”‚  Rate: $85/hr                 â”‚   â”‚
â”‚  â”‚  â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯  Health: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 80%       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Threshold Visualization

```
THRESHOLD STATES:

  Below Threshold        At Threshold          Above Threshold
  (Flow Blocked)         (Flow Starting)       (Full Flow)

       â•±â•²                     â•±â•²                    â•±â•²
      â•±  â•²                   â•±  â•²                  â•±  â•²
     â•± â›” â•²                 â•± âš ï¸ â•²                â•± âœ… â•²
    â•±â”€â”€â”€â”€â”€â”€â•²               â•±â”€â”€â”€â”€â”€â”€â•²              â•±â”€â”€â”€â”€â”€â”€â•²
    â”‚â–‘â–‘â–‘â–‘â–‘â–‘â”‚               â”‚â–“â–“â–“â–‘â–‘â–‘â”‚              â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚
    â”‚â–‘â–‘â–‘â–‘â–‘â–‘â”‚               â”‚â–“â–“â–“â–‘â–‘â–‘â”‚              â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚
    â””â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”˜
    $2,000                  $4,500                $8,000
    â”€â”€â”€â”€â”€â”€â”€                 â”€â”€â”€â”€â”€â”€â”€               â”€â”€â”€â”€â”€â”€â”€
    Threshold: $5,000       Threshold: $5,000     Threshold: $5,000
```

### Flow Animation Styles

```
1. PARTICLE FLOW (recommended)
   â—‹â”€â”€â”€â—‹â”€â”€â”€â—‹â”€â”€â”€â—‹â”€â”€â”€â—‹â”€â”€â”€â–¶
   Dots flowing along the path, speed indicates rate

2. GRADIENT PULSE
   â–ˆâ–ˆâ–ˆâ–ˆâ–“â–“â–’â–’â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–¶
   Color gradient pulses along the line

3. DASHED ANIMATION
   â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€â–¶
   Animated dashes moving toward recipient

4. THICKNESS ENCODING
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â–¶  High flow
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  Medium flow
   â•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ–¶  Low flow
```

---

## Interactive Features

### 1. Threshold Slider
Users can drag thresholds to see how changes affect flow dynamics:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  THRESHOLD CONTROL                                     â”‚
â”‚                                                        â”‚
â”‚  Min â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ Max  â”‚
â”‚      $0          $5,000                      $50,000   â”‚
â”‚                    â–²                                   â”‚
â”‚                    â”‚                                   â”‚
â”‚              Current: $5,000                           â”‚
â”‚                                                        â”‚
â”‚  Flow activates when source balance > threshold        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. Flow Rate Dial
Adjust how fast funds flow when threshold is met:

```
        â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
       â•±       â”‚       â•²
      â”‚    â”€â”€â”€â”€â—â”€â”€â”€â”€    â”‚
      â”‚   â•±         â•²   â”‚
       â•² â•±     â”‚     â•² â•±
        â•°â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â•¯
          $10    $100    $1000
               /hr

     Current Rate: $50/hr
```

### 3. Time Simulation
Scrub through time to see how flows evolve:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â—€â—€  â—€  â–¶  â–¶â–¶   â”‚â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â”‚        â”‚
â”‚                  â–²                                      â”‚
â”‚               NOW                                       â”‚
â”‚                                                         â”‚
â”‚  Jan 2025 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Dec 2025 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Screen Layouts

### Main Canvas View

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FLOW FUNDING                                    [+] [âš™] [?]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚     â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®                          â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®             â”‚
â”‚     â”‚ Treasuryâ”‚                          â”‚Project Aâ”‚             â”‚
â”‚     â”‚  $50K   â”‚â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”‚  $12K   â”‚             â”‚
â”‚     â•°â”€â”€â”€â”€â”¬â”€â”€â”€â”€â•¯         â•±                â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯             â”‚
â”‚          â”‚             â•±                                         â”‚
â”‚          â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”                                          â”‚
â”‚          â”œâ•â•â•â•â•â”‚ GATE â”‚â•â•â•â•â•â•â•â•—          â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®             â”‚
â”‚          â”‚     â”‚$5K THâ”‚       â•‘          â”‚Project Bâ”‚             â”‚
â”‚          â”‚     â””â”€â”€â”€â”€â”€â”€â”˜       â•šâ•â•â•â•â•â•â•â•â•â•â”‚  $8K    â”‚             â”‚
â”‚          â”‚                               â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯             â”‚
â”‚          â”‚                                                       â”‚
â”‚          â”‚                               â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®             â”‚
â”‚          â•°â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”‚Project Câ”‚             â”‚
â”‚                                          â”‚  $5K    â”‚             â”‚
â”‚                                          â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯             â”‚
â”‚                                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Total Flowing: $300/hr â”‚ Active Flows: 3 â”‚ Blocked: 1          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Detail Panel (on node click)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PROJECT A                     [Ã—]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  Current Balance    $12,340.50      â”‚
â”‚  Incoming Rate      $85.00/hr       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                     â”‚
â”‚  THRESHOLD STATUS                   â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘  80%          â”‚
â”‚  $12,340 / $15,000 threshold        â”‚
â”‚                                     â”‚
â”‚  When threshold met:                â”‚
â”‚  â†’ Unlock outgoing flow to Proj D   â”‚
â”‚  â†’ Increase rate to $150/hr         â”‚
â”‚                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  FLOW HISTORY                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚    â•±â•²    â•±â•²                 â”‚   â”‚
â”‚  â”‚   â•±  â•²  â•±  â•²    â•±â•²          â”‚   â”‚
â”‚  â”‚  â•±    â•²â•±    â•²  â•±  â•²         â”‚   â”‚
â”‚  â”‚ â•±            â•²â•±    â•²        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚   Jan  Feb  Mar  Apr  May  Jun     â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Color System

| State | Color | Hex | Usage |
|-------|-------|-----|-------|
| Active Flow | Electric Blue | `#3B82F6` | Flowing connections |
| Threshold Met | Emerald | `#10B981` | Success states |
| Near Threshold | Amber | `#F59E0B` | Warning/attention |
| Below Threshold | Rose | `#F43F5E` | Blocked/inactive |
| Pending | Purple | `#8B5CF6` | Processing states |
| Background | Slate | `#0F172A` | Canvas background |

---

## Interaction Patterns

### Creating a New Flow
1. Click source node â†’ drag to recipient
2. Release to open threshold configuration
3. Set threshold amount and flow rate
4. Flow appears with animation

### Adjusting Threshold
1. Click on threshold gate icon
2. Drag slider or enter exact value
3. See real-time preview of flow state change
4. Changes apply immediately or on confirm

### Time Travel
1. Pause current state
2. Drag timeline scrubber
3. See historical or projected flow states
4. Resume real-time or stay at selected time

---

## Technical Implementation

### React Flow Integration
- Custom node types: `SourceNode`, `RecipientNode`, `ThresholdGate`
- Custom edge type: `AnimatedFlowEdge` with particle animation
- Minimap for large networks
- Pan/zoom controls

### Animation System
- Canvas-based particle system for flow animation
- 60fps smooth animations
- Performance-optimized for 100+ nodes

### State Management
- Real-time flow calculations
- Threshold state machine
- Time-series data for history/projections
